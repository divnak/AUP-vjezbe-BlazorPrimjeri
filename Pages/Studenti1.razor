@using mojaBiblioteka;
@page "/studenti1"

<PageTitle>Unos studenata</PageTitle>

<h1>Unos studenata bez provjere podataka</h1>

<p>Napomena: ako nećemo koristiti provjeru, onda ne moramo koristiti EditForm.</p>

<EditForm Model="unosStudenta" OnValidSubmit="@SpremiStudenta">
    <div>
        <label>Ime:</label>
        <InputText @bind-Value="unosStudenta.Ime"></InputText>
    </div>

    <div>
        <label>Prezime:</label>
        <InputText @bind-Value="unosStudenta.Prezime"></InputText>
    </div>

    <div>
        <label>Ects:</label>
        <InputNumber @bind-Value="unosStudenta.Ects"></InputNumber>
    </div>

    <div>
        <label>Grad:</label>
        <InputSelect @bind-Value="unosStudenta.Grad">
            <option value="">Odaberite grad...</option>
            <option value="Split">Split</option>
            <option value="Zagreb">Zagreb</option>
        </InputSelect>
    </div>

    <div>
        <button type="submit">Spremi</button>
        <button type="reset">Odustani</button>
    </div>
</EditForm>

<div>
    <h3>Ispis</h3>
    <textarea cols="50" rows="5">@unosStudenta</textarea>
    <div>Informacije: @info</div>
</div>

@code {
    private Student unosStudenta = new Student();
    private List<Student> popis = new List<Student>();
    private string info = "";

    // ako je uključena provjera, ovo će raditi samo kad su podaci ispravni
    private void SpremiStudenta()
    { 
        popis.Add(unosStudenta);
        info = "Ukupno upisano: " + popis.Count;

        // nakon uspješnog unosa, stvaramo novi primjerak s praznim podacima
        // kako ne bi bio povezan s prethodnim unosom
        unosStudenta = new Student();
    }

}